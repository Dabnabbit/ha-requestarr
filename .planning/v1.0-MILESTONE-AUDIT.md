---
milestone: v1.0
audited: 2026-02-28T04:00:00Z
status: tech_debt
scores:
  requirements: 28/30
  phases: 4/5
  integration: 27/30
  flows: 5.5/6
gaps:
  requirements:
    - id: "CARD-05"
      status: "partial"
      phase: "Phase 5"
      claimed_by_plans: ["05-01-PLAN.md"]
      completed_by_plans: ["05-01-SUMMARY.md"]
      verification_status: "passed"
      evidence: "Card editor renders and saves config, but show_radarr/show_sonarr/show_lidarr toggles have no runtime effect — _renderTabs() always shows all three tabs regardless of config values"
    - id: "DIST-03"
      status: "partial"
      phase: "Template"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "passed"
      evidence: "hassfest and hacs/action CI jobs run, but pytest test suite (18 tests) is not invoked by any CI workflow job"
  integration:
    - from: "RequestarrCardEditor"
      to: "RequestarrCard._renderTabs()"
      issue: "show_* config keys saved but never read by tab rendering — toggles have no effect"
      affected_reqs: ["CARD-05"]
    - from: "manifest.json"
      to: "hassfest"
      issue: "iot_class is cloud_polling but arr services are on LAN — should be local_polling"
      affected_reqs: ["SCAF-01", "DIST-01"]
    - from: "binary_sensor.py"
      to: "HA entity registry"
      issue: "TemplateStatusSensor creates undocumented entity that duplicates coordinator status already in RequestarrSensor"
      affected_reqs: ["SCAF-02"]
  flows:
    - flow: "Card editor tab visibility"
      break_point: "_renderTabs() does not read this.config.show_*"
      affected_reqs: ["CARD-05"]
tech_debt:
  - phase: 01-config-flow-api-clients
    items:
      - "Missing VERIFICATION.md — phase was not formally verified during execute-phase"
  - phase: 05-library-state-card-polish-validation
    items:
      - "show_radarr/show_sonarr/show_lidarr config keys saved by editor but never consumed by card render logic"
      - "binary_sensor.py creates undocumented TemplateStatusSensor entity"
  - phase: template
    items:
      - "iot_class should be local_polling not cloud_polling"
      - "No pytest CI job in validate.yml"
---

# v1.0 Milestone Audit

**Audited:** 2026-02-28
**Status:** tech_debt (no critical blockers, accumulated items need review)

## Phase Verification Summary

| Phase | VERIFICATION.md | Status | Requirements Verified |
|-------|----------------|--------|----------------------|
| 1. Config Flow + API Clients | Missing | Unverified | CONF-01..05, SENS-04 (confirmed via SUMMARY) |
| 2. Sensors + Search | Present | Passed | SENS-01..03, SRCH-01..05 (8/8) |
| 3. Movie & TV Request | Present | Passed | REQT-01, REQT-02, REQT-04, CARD-01..04 (7/7) |
| 4. Music + Lidarr Request | Present | Passed | SRCH-03, REQT-03 (2/2) |
| 5. Library State + Card Polish | Present | Passed | REQT-05, CARD-05 (2/2) |

## Requirements 3-Source Cross-Reference

| Req ID | VERIFICATION.md | SUMMARY Frontmatter | REQUIREMENTS.md | Final Status |
|--------|----------------|---------------------|-----------------|--------------|
| SCAF-01 | N/A (template) | N/A | [x] | satisfied |
| SCAF-02 | N/A (template) | N/A | [x] | satisfied |
| SCAF-03 | N/A (template) | N/A | [x] | satisfied |
| CONF-01 | missing (no Phase 1 VERIFICATION) | listed in 01-01 | [x] | satisfied (via SUMMARY) |
| CONF-02 | missing | listed in 01-01 | [x] | satisfied (via SUMMARY) |
| CONF-03 | missing | listed in 01-01 | [x] | satisfied (via SUMMARY) |
| CONF-04 | missing | listed in 01-01 | [x] | satisfied (via SUMMARY) |
| CONF-05 | missing | listed in 01-01 | [x] | satisfied (via SUMMARY) |
| SENS-01 | passed (Phase 2) | listed in 02-01 | [x] | satisfied |
| SENS-02 | passed (Phase 2) | listed in 02-01 | [x] | satisfied |
| SENS-03 | passed (Phase 2) | listed in 02-01 | [x] | satisfied |
| SENS-04 | missing (no Phase 1 VERIFICATION) | listed in 01-01 | [x] | satisfied (via SUMMARY) |
| SRCH-01 | passed (Phase 2) | listed in 02-01 | [x] | satisfied |
| SRCH-02 | passed (Phase 2) | listed in 02-01 | [x] | satisfied |
| SRCH-03 | passed (Phase 2, 4) | listed in 02-01, 04-01 | [x] | satisfied |
| SRCH-04 | passed (Phase 2) | listed in 02-01 | [x] | satisfied |
| SRCH-05 | passed (Phase 2) | listed in 02-01 | [x] | satisfied |
| REQT-01 | passed (Phase 3) | listed in 03-01 | [x] | satisfied |
| REQT-02 | passed (Phase 3) | listed in 03-01 | [x] | satisfied |
| REQT-03 | passed (Phase 4) | listed in 04-01 | [x] | satisfied |
| REQT-04 | passed (Phase 3) | listed in 03-01 | [x] | satisfied |
| REQT-05 | passed (Phase 5) | listed in 05-01, 05-02 | [x] | satisfied |
| CARD-01 | passed (Phase 3) | listed in 03-02 | [x] | satisfied |
| CARD-02 | passed (Phase 3) | listed in 03-02 | [x] | satisfied |
| CARD-03 | passed (Phase 3) | listed in 03-02 | [x] | satisfied |
| CARD-04 | passed (Phase 3) | listed in 03-02 | [x] | satisfied |
| CARD-05 | passed (Phase 5) | listed in 05-01 | [x] | partial — editor works, show_* toggles have no runtime effect |
| DIST-01 | N/A (template) | N/A | [x] | satisfied |
| DIST-02 | N/A (template) | N/A | [x] | satisfied |
| DIST-03 | N/A (template) | N/A | [x] | partial — hassfest/hacs run, pytest not in CI |

**Satisfied:** 28/30 | **Partial:** 2/30 | **Unsatisfied:** 0/30

## E2E Flow Status

| Flow | Status |
|------|--------|
| 1. Install via config flow (3-step wizard) | Complete |
| 2. Sensor creation and 5-min polling | Complete |
| 3. Movie search and request | Complete |
| 4. TV search and request | Complete |
| 5. Music search and request | Complete |
| 6. Card editor saves config | Partial — config saves but tab toggles have no effect |

## Integration Findings

### Partial: Card editor tab toggles (CARD-05)
`RequestarrCardEditor` renders `show_radarr`/`show_sonarr`/`show_lidarr` checkboxes and saves them via `config-changed`, but `RequestarrCard._renderTabs()` always renders all three tabs unconditionally. The toggles have no runtime effect.

**Fix:** Add conditional guards in `_renderTabs()` to hide tabs when `this.config.show_X === false`.

### Advisory: iot_class mismatch (SCAF-01)
`manifest.json` declares `iot_class: cloud_polling` but arr services are local-network. Should be `local_polling`.

### Advisory: No pytest CI job (DIST-03)
18 tests pass locally but `validate.yml` only runs hassfest + hacs/action. No GitHub Actions job invokes pytest.

### Advisory: Orphan binary_sensor entity (SCAF-02)
`binary_sensor.py` creates an undocumented `TemplateStatusSensor` that duplicates status info already in `RequestarrSensor`. Not harmful but adds clutter.

## Tech Debt Summary

| Phase | Item | Severity |
|-------|------|----------|
| Phase 1 | Missing VERIFICATION.md (never formally verified) | Low |
| Phase 5 | show_* config toggles not wired to card render | Medium |
| Template | iot_class should be local_polling | Low |
| Template | No pytest job in CI workflow | Medium |
| Phase 5 | Orphan binary_sensor entity | Low |

**Total: 5 items across 3 phases + template**

---
*Milestone: v1.0*
*Audited: 2026-02-28*
